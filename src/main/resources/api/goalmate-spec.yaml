openapi: 3.0.3
info:
  title: GoalMate API
  description: |-
    CMC GoalMate API ì…ë‹ˆë‹¤.
  contact:
    email: goalmate@gmail.com
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
  version: 1.0.0

servers:
  - url: http://3.39.253.230
    description: ê°œë°œ ì„œë²„
  - url: http://localhost:8080
    description: ë¡œì»¬ ì„œë²„

tags:
  - name: Auth
    description: ì¸ì¦ API
  - name: Mentee
    description: ë©˜í‹° API
  - name: Goal
    description: ëª©í‘œ API
  - name: MenteeGoal
    description: ë©˜í‹° ëª©í‘œ API
  - name: Comment
    description: ì½”ë©˜íŠ¸ ê´€ë ¨ API

paths:
  # Auth
  /auth/login:
    post:
      tags:
        - Auth
      summary: ì†Œì…œ ë¡œê·¸ì¸ (íšŒì›ê°€ì…)
      description: ì†Œì…œ ë¡œê·¸ì¸ì„ í†µí•´ ë¡œê·¸ì¸ ë˜ëŠ” íšŒì›ê°€ì…ì„ ì§„í–‰í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ ì™„ë£Œ ì‹œ 200, íšŒì›ê°€ì… ì„±ê³µ ì‹œ 201ì´ ì‘ë‹µë©ë‹ˆë‹¤.
      operationId: loginOrSignUp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAuthRequest'
      responses:
        '200':
          description: ë¡œê·¸ì¸ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/LoginResponse'
        '201':
          description: íšŒì›ê°€ì… ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/LoginResponse'
  /auth/logout:
    post:
      tags:
        - Auth
      summary: ë¡œê·¸ì•„ì›ƒ
      description: ë¡œê·¸ì•„ì›ƒì„ ì§„í–‰í•©ë‹ˆë‹¤. ì•¡ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì´ íŒŒê¸°ë©ë‹ˆë‹¤. (í›„ìˆœìœ„)
      operationId: logout
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: ë¡œê·¸ì•„ì›ƒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
  /auth/reissue:
    put:
      tags:
        - Auth
      summary: í† í° ì¬ë°œê¸‰
      description: í† í° ì¬ë°œê¸‰ì„ ì§„í–‰í•©ë‹ˆë‹¤. ë¦¬í”„ë ˆì‹œ í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤. (í›„ìˆœìœ„)
      operationId: reissue
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: ì¬ë°œê¸‰ ì„±ê³µ
  /auth/withdraw:
    delete:
      tags:
        - Auth
      summary: íšŒì›íƒˆí‡´
      description: íšŒì› íƒˆí‡´ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
      operationId: withdraw
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: íƒˆí‡´ ì„±ê³µ

  # Mentee
  /mentees/my:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - Mentee
      summary: ë©˜í‹° ê¸°ë³¸ ì •ë³´
      description: ë©˜í‹° ê¸°ë³¸ ì •ë³´ ë° ê°„ë‹¨í•œ ëª©í‘œ í˜„í™©ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
      operationId: getMenteeInfo
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/MenteeInfoResponse'
  /mentees/my/name:
    put:
      security:
        - bearerAuth: [ ]
      tags:
        - Mentee
      summary: ë©˜í‹° ì´ë¦„ ì„¤ì •
      description: ë©˜í‹° ì´ë¦„ì„ ì„¤ì •í•©ë‹ˆë‹¤.
      operationId: updateMenteeName
      parameters:
        - name: name
          in: query
          required: true
          description: ë©˜í‹° ì´ë¦„
          schema:
            type: string
            example: ê¹€ë©˜í‹°
      responses:
        '200':
          description: ì´ë¦„ ì„¤ì • ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: string
                        example: ì„¤ì • ëœ ì´ë¦„
        '409':
          description: ì¤‘ë³µëœ ì´ë¦„
  /mentees/name/validate:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - Mentee
      summary: ë©˜í‹° ì´ë¦„ ìœ íš¨ì„± í™•ì¸
      description: >
        ## ê°œìš”
        ë©˜í‹° ì´ë¦„ì˜ ì¤‘ë³µ í™•ì¸ì„ ì§„í–‰í•©ë‹ˆë‹¤.
        
        ### ì‘ë‹µ ì„¤ëª…
        
        - `is_available`: ì´ë¦„ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ (ì¤‘ë³µ ì—¬ë¶€)
          - `true`: ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë¦„
          - `false`: ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë¦„
      operationId: checkNameAvailability
      parameters:
        - name: name
          in: query
          description: ë©˜í‹° ì´ë¦„
          required: true
          schema:
            type: string
            example: ê¹€ë©˜í‹°
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/NameAvailabilityResponse'
        '409':
          description: ì¤‘ë³µëœ ì´ë¦„

  /uploads:
    post:
      tags:
        - File
      summary: ì´ë¯¸ì§€ ì—…ë¡œë“œ
      description: >
        ## ê°œìš”
        
        ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•©ë‹ˆë‹¤. ì—…ë¡œë“œëœ ì´ë¯¸ì§€ URLì´ ë°˜í™˜ë˜ë©°, 24ì‹œê°„ ì•ˆì— ì‚¬ìš©ë˜ì§€ ì•Šì€ ì´ë¯¸ì§€ëŠ” ìë™ ì‚­ì œë©ë‹ˆë‹¤.
        
        ## ìš”ì²­ ì„¤ëª…
        
        - `file`: ì´ë¯¸ì§€ íŒŒì¼ (ë©€í‹°íŒŒíŠ¸)

      operationId: uploadImage
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '201':
          description: ì—…ë¡œë“œ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: string
                        example: "https://image.url"

  # Goals
  /goals:
    get:
      tags:
        - Goal
      summary: ëª©í‘œ ëª©ë¡ ì¡°íšŒ
      description: >
        ## ê°œìš”
        
        ëª©í‘œ ëª©ë¡ì„ í˜ì´ì§€ë„¤ì´ì…˜í•˜ì—¬ ì¡°íšŒí•©ë‹ˆë‹¤.  
        
        ## ì‘ë‹µ ì„¤ëª…
        
        ### goal_status: ëª©í‘œì˜ í˜„ì¬ ìƒíƒœ
          - `UPCOMING`: ëª¨ì§‘ ì‹œì‘ ì „ ëª©í‘œ
          - `OPEN`: ëª¨ì§‘ ì¤‘ì¸ ëª©í‘œ
          - `CLOSED`: ëª¨ì§‘ ì¢…ë£Œëœ ëª©í‘œ

      operationId: getGoals
      parameters:
        - name: page
          in: query
          description: í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: size
          in: query
          description: í˜ì´ì§€ë‹¹ ì•„ì´í…œ ìˆ˜
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/GoalSummaryPagingResponse'
    post:
      tags:
        - Goal
      summary: "[ë©˜í† ] ëª©í‘œ ìƒì„±"
      description: >
        ## ê°œìš”
        
        ìƒˆë¡œìš´ ëª©í‘œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ëª©í‘œê°€ ìƒì„±ë˜ë©´ ëª©í‘œ IDê°€ ë°˜í™˜ë©ë‹ˆë‹¤.
        
        ## ìš”ì²­ ì„¤ëª…
        
        ì•„ë˜ì˜ í•„ë“œë“¤ì€ ë°°ì—´ë¡œ ì—¬ëŸ¬ ê°œì˜ ê°’ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
          - `mid_objectives`: ì¤‘ê°„ ëª©í‘œ ì„¤ëª… (1ë¶€í„° ì‹œì‘)
          - `weekly_objectives`: ì£¼ì°¨ë³„ ëª©í‘œ ì„¤ëª… (1ì£¼ì°¨ë¶€í„° ì‹œì‘)
          - `thumbnail_images`: ì¸ë„¤ì¼ ì´ë¯¸ì§€ URL. ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ë©”ì¸ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
          - `content_images`: ëª©í‘œ ìƒì„¸ ì´ë¯¸ì§€ URL

      operationId: createGoal
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoalCreateRequest'
      responses:
        '201':
          description: ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: integer
                        format: int64
                        example: 1
                        description: ìƒì„±ëœ ëª©í‘œì˜ ID
  /goals/{goalId}:
    get:
      tags:
        - Goal
      summary: ëª©í‘œ ì„¸ë¶€ì •ë³´ ì¡°íšŒ
      description: ëª©í‘œ ì„¸ë¶€ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
      operationId: getGoalDetails
      parameters:
        - name: goalId
          in: path
          required: true
          schema:
            type: integer
          description: ëª©í‘œ ID
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/GoalDetailResponse'
  /goals/{goalId}/mentees:
    post:
      security:
        - bearerAuth: [ ]
      tags:
        - Goal
      summary: ëª©í‘œ ì°¸ì—¬
      description: ë©˜í‹°ê°€ ëª©í‘œ ì‹œì‘í•˜ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ ì°¸ì—¬í•©ë‹ˆë‹¤.
      operationId: participateInGoal
      parameters:
        - name: goalId
          in: path
          required: true
          schema:
            type: integer
          description: ì°¸ì—¬í•  ëª©í‘œì˜ ID
      responses:
        '200':
          description: ì°¸ì—¬ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '403':
          description: ì°¸ì—¬ ì¸ì› ì´ˆê³¼ ë˜ëŠ” ë¬´ë£Œ ì°¸ì—¬ íšŸìˆ˜ ì´ˆê³¼
        '404':
          description: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ëª©í‘œ
        '409':
          description: ì´ë¯¸ ì°¸ì—¬ì¤‘ì¸ ëª©í‘œ

  # MenteeGoal
  /mentees/my/goals:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - MenteeGoal
      summary: ë©˜í‹° ëª©í‘œ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
      description: >
        ## ê°œìš”
        
        ë©˜í‹°ê°€ ì°¸ì—¬í•œ ëª©í‘œë“¤ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        ## ì‘ë‹µ ì„¤ëª…
        
        ### mentee_goal_status: ë©˜í‹° ëª©í‘œì˜ ìƒíƒœ
          - `IN_PROGRESS`: ì§„í–‰ ì¤‘ì¸ ë©˜í‹°ëª©í‘œ
          - `COMPLETED`: ì™„ë£Œëœ ë©˜í‹°ëª©í‘œ
          - `FAILED`: ì‹¤íŒ¨í•œ ë©˜í‹°ëª©í‘œ
          - `CANCELED`: ì·¨ì†Œëœ ë©˜í‹°ëª©í‘œ

      operationId: getMenteeGoals
      parameters:
        - name: page
          in: query
          description: í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: size
          in: query
          description: í˜ì´ì§€ë‹¹ ì•„ì´í…œ ìˆ˜
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/MenteeGoalSummaryPagingResponse'
  /mentees/my/goals/{menteeGoalId}:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - MenteeGoal
      summary: ë©˜í‹°ì˜ ëª©í‘œ ì¼ì¼ ì„¸ë¶€ì •ë³´ ì¡°íšŒ
      description: >
        ## ê°œìš”
        
        ë©˜í‹°ì˜ ëª©í‘œì˜ ì¼ì¼ ì„¸ë¶€ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ë‚ ì§œ(default: ì˜¤ëŠ˜)ê°€ í•„ìš”í•˜ë©°, í•´ë‹¹ ë‚ ì§œì˜ íˆ¬ë‘ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
        
        ## ì‘ë‹µ ì„¤ëª…
        
        ### `todo_status`
          - `TODO`: ì§„í–‰ ì¤‘ì¸ íˆ¬ë‘
          - `COMPLETED`: ì™„ë£Œëœ íˆ¬ë‘
        
        ## ğŸš¨ ì£¼ì˜ì‚¬í•­
        
        `goal`ì˜ id ê°’ê³¼ `mentee_goal`ì˜ id ê°’ì€ ì„œë¡œ ë‹¤ë¥¸ ê°’ì…ë‹ˆë‹¤.
        
        
        ì¼ë°˜ì ì¸ ëª©í‘œ(í™ˆí™”ë©´)ë¥¼ ì¡°íšŒí•˜ëŠ” ê²½ìš° `goal`ì˜ idë¥¼ ì‚¬ìš©í•˜ê³ , ë©˜í‹°ì˜ ëª©í‘œë¥¼ ì¡°íšŒí•˜ëŠ” ê²½ìš° `mentee_goal`ì˜ idë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
      operationId: getMenteeGoalDailyDetails
      parameters:
        - name: menteeGoalId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: ë©˜í‹°ëª©í‘œ ID
        - name: date
          in: query
          required: false
          schema:
            type: string
            format: date
          description: ë‚ ì§œ
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/MenteeGoalDailyDetailResponse'
  /mentees/my/goals/{menteeGoalId}/weekly-progress:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - MenteeGoal
      summary: ë©˜í‹°ì˜ ëª©í‘œ ì§„ì²™ë„ ì¡°íšŒ
      description: >
        ## ê°œìš”
        
        ë©˜í‹°ì˜ ëª©í‘œ ì§„ì²™ë„ë¥¼ ì£¼ ë‹¨ìœ„ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        ì¼~ì›” ìˆœìœ¼ë¡œ ì§„ì²™ë„ê°€ ì œê³µë˜ë©°, í˜ì´ì§€ í¬ê¸°ëŠ” 7ë¡œ ê³ ì •ë©ë‹ˆë‹¤.
      operationId: getMenteeGoalWeeklyProgress
      parameters:
        - name: menteeGoalId
          in: path
          required: true
          schema:
            type: integer
          description: ë©˜í‹°ëª©í‘œ ID
        - name: date
          in: query
          required: false
          schema:
            type: string
            format: date
          description: ë‚ ì§œ
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          progress:
                            type: array
                            items:
                              $ref: '#/components/schemas/MenteeGoalDailyProgressResponse'
                          has_last_week:
                            type: boolean
                          has_next_week:
                            type: boolean
  /mentees/my/todos:
    # ì˜¤ëŠ˜ í•´ì•¼í•  ì¼ì´ ë‚¨ì•˜ëŠ”ì§€ í™•ì¸ìš©
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - MenteeGoal
      summary: (ì•Œë¦¼ìš©) ë©˜í‹° ë¯¸ì™„ë£Œ íˆ¬ë‘ í™•ì¸
      description: >
        ## ê°œìš”
        
        ë©˜í‹°ì˜ ë¯¸ì™„ë£Œ íˆ¬ë‘ê°€ ë‚¨ì•„ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì˜¤ëŠ˜(ì¡°íšŒì¼)ì˜ íˆ¬ë‘ë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•˜ë©°, ì˜¤ëŠ˜ ì´ì „ì˜ íˆ¬ë‘ëŠ” ë¯¸ì™„ë£Œì— í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
      operationId: hasRemainingTodosToday
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/RemainingTodosResponse'
  /mentees/my/goals/{menteeGoalId}/todos/{todoId}:
    post:
      security:
        - bearerAuth: [ ]
      tags:
        - MenteeGoal
      summary: ë©˜í‹°ì˜ ëª©í‘œ íˆ¬ë‘ ì—…ë°ì´íŠ¸
      description: ë©˜í‹°ì˜ ëª©í‘œì— ëŒ€í•´ íˆ¬ë‘ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•©ë‹ˆë‹¤.
      operationId: updateTodoStatus
      parameters:
        - name: menteeGoalId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: ë©˜í‹°ëª©í‘œ ID
        - name: todoId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: íˆ¬ë‘ ID
      responses:
        '200':
          description: ì—…ë°ì´íŠ¸ ì„±ê³µ. ì—…ë°ì´íŠ¸ëœ íˆ¬ë‘ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/MenteeGoalTodoResponse'

  # Comments
  /comment-rooms/{roomId}/comments:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - Comment
      summary: ë©˜í‹°ì˜ ëª©í‘œ ì½”ë©˜íŠ¸ ì¡°íšŒ
      description: >
        ## ê°œìš”
        
        ë©˜í† -ë©˜í‹° ê°„ ì£¼ê³ ë°›ì€ ì½”ë©˜íŠ¸ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
        
        ì½”ë©˜íŠ¸ëŠ” ìµœì‹  ë‚ ì§œë¶€í„° ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ë©°, í˜ì´ì§€ë„¤ì´ì…˜ì´ ì ìš©ë©ë‹ˆë‹¤.

      operationId: getComments
      parameters:
        - name: roomId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: ì½”ë©˜íŠ¸ ë£¸ ID
        - name: page
          in: query
          description: í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: size
          in: query
          description: í˜ì´ì§€ë‹¹ ì•„ì´í…œ ìˆ˜
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommentPagingResponse'
    post:
      security:
        - bearerAuth: [ ]
      tags:
        - Comment
      summary: "[ë©˜í‹°] ì½”ë©˜íŠ¸ ì‘ì„±"
      description: >
        ## ê°œìš”
        
        ë©˜í‹°ê°€ ëª©í‘œì— ëŒ€í•´ ì½”ë©˜íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. ì½”ë©˜íŠ¸ ìµœëŒ€ ê¸¸ì´ëŠ” 300ìì´ë©°, í•˜ë£¨ 1íšŒë§Œ ì‘ì„± ê°€ëŠ¥í•©ë‹ˆë‹¤.

      operationId: addCommentFromMentee
      parameters:
        - name: roomId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: ì½”ë©˜íŠ¸ ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentRequest'
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommentResponse'

  /comment-rooms/my:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - Comment
      summary: ì½”ë©˜íŠ¸ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
      description: >
        ## ê°œìš”
        
        ë©˜í‹°ì—ê²Œ ì˜¨ ì½”ë©˜íŠ¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. í˜ì´ì§€ë„¤ì´ì…˜ì´ ì ìš©ë˜ë©°, ìµœì‹  ì½”ë©˜íŠ¸ ìˆœìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤.
      operationId: getCommentRooms
      parameters:
        - name: page
          in: query
          description: í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: size
          in: query
          description: í˜ì´ì§€ë‹¹ ì•„ì´í…œ ìˆ˜
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
      responses:
        '200':
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommentRoomPagingResponse'
  /comments/{commentId}:
    patch:
      security:
        - bearerAuth: [ ]
      tags:
        - Comment
      summary: ë©˜í‹°ê°€ ì‘ì„±í•œ ì½”ë©˜íŠ¸ ìˆ˜ì •
      description: >
        ## ê°œìš”
        
        ë©˜í‹°ê°€ ì‘ì„±í•œ ì½”ë©˜íŠ¸ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. ì½”ë©˜íŠ¸ ìµœëŒ€ ê¸¸ì´ëŠ” 300ì ì…ë‹ˆë‹¤.
      operationId: updateCommentFromMentee
      parameters:
        - name: commentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: ì½”ë©˜íŠ¸ ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentRequest'
      responses:
        '200':
          description: ìˆ˜ì • ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/CommentResponse'
    delete:
      security:
        - bearerAuth: [ ]
      tags:
        - Comment
      summary: ë©˜í‹°ì˜ ëª©í‘œ ì½”ë©˜íŠ¸ ì‚­ì œ
      description: ë©˜í‹°ì˜ ëª©í‘œì— ëŒ€í•œ ì½”ë©˜íŠ¸ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
      operationId: deleteCommentFromMentee
      parameters:
        - name: commentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: ì½”ë©˜íŠ¸ ID
      responses:
        '200':
          description: ì‚­ì œ ì„±ê³µ

components:
  schemas:
    # Request Dto
    OAuthRequest:
      type: object
      properties:
        identity_token:
          type: string
        nonce:
          type: string
        provider:
          type: string
          enum:
            - KAKAO
            - APPLE
      required:
        - identity_token
        - provider
      example:
        identity_token: identity_token
        nonce: ì„ì˜ì˜ nonce ê°’
        provider: KAKAO

    GoalCreateRequest:
      type: object
      properties:
        mentor_id:
          type: integer
          format: int64
          example: 1
        title:
          type: string
          description: ëª©í‘œ ì œëª©
          example: "ë‹¤ì˜¨ê³¼ í•¨ê»˜í•˜ëŠ” ì˜ì–´ ì™„ì „ ì •ë³µ 30ì¼ ëª©í‘œ"
        participants_limit:
          type: integer
          example: 10
        topic:
          type: string
          description: ëª©í‘œ ì£¼ì œ
          example: "ì˜ì–´"
        period:
          type: integer
          example: 30
        daily_duration:
          type: integer
          example: 4
        description:
          type: string
          description: ëª©í‘œì— ëŒ€í•œ ì„¤ëª…
          example: "ì˜ì–´ë¥¼ í•˜ê³  ì‹¶ì—ˆì§€ë§Œ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ í•´ì•¼ í• ì§€ ê³ ë¯¼ì´ ë§ì§€ ì•Šì•˜ë‚˜ìš”?"
        mid_objectives:
          type: array
          items:
            $ref: '#/components/schemas/MidObjectiveRequest'
        weekly_objectives:
          type: array
          items:
            $ref: '#/components/schemas/WeeklyObjectiveRequest'
        thumbnail_images:
          type: array
          items:
            $ref: '#/components/schemas/ImageRequest'
        content_images:
          type: array
          items:
            $ref: '#/components/schemas/ImageRequest'
      required:
        - mentor_id
        - title
        - participants_limit
        - topic
        - period
        - daily_duration
        - description
        - mid_objectives
        - weekly_objectives
        - thumbnail_images
        - content_images
    MidObjectiveRequest:
      type: object
      properties:
        sequence:
          type: integer
          example: 1
        description:
          type: string
          description: ì¤‘ê°„ ëª©í‘œ ì„¤ëª…
          example: "ì˜ì–´ë¡œ ì›ì–´ë¯¼ê³¼ í¸ì•ˆí•˜ê²Œ ëŒ€í™”í•˜ëŠ” ë²•"
    WeeklyObjectiveRequest:
      type: object
      properties:
        week_number:
          type: integer
          example: 1
        description:
          type: string
          description: ëª©í‘œ ì£¼ì°¨ë³„ ìƒì„¸ ì„¤ëª…
          example: "ê°„ë‹¨í•œ ë‹¨ì–´ë¶€í„° ì‹œì‘í•˜ê¸°"
    ImageRequest:
      type: object
      properties:
        sequence:
          type: integer
          example: 1
        imageUrl:
          type: string
          example: "https://image.url"

    CommentRequest:
      type: object
      properties:
        comment:
          type: string
          description: ì½”ë©˜íŠ¸ ë‚´ìš©
          maxLength: 300
          example: "ë©˜í† ë‹˜, ì˜¤ëŠ˜ì€ ì–´ë–¤ ê³µë¶€ë¥¼ í•´ì•¼ í• ê¹Œìš”?"
      required:
        - comment

    # Response Dto
    LoginResponse:
      type: object
      properties:
        access_token:
          type: string
          example: <header>.<payload>.<signature>
        refresh_token:
          type: string
          example: <header>.<payload>.<signature>
      required:
        - access_token
        - refresh_token
    MenteeInfoResponse:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        in_progress_goal_count:
          type: integer
        completed_goal_count:
          type: integer
        free_participation_count:
          type: integer
        mentee_status:
          type: string
          enum:
            - PENDING
            - ACTIVE
            - DELETED
    NameAvailabilityResponse:
      type: object
      properties:
        is_available:
          type: boolean
          example: false  # falseë©´ ë‹‰ë„¤ì„ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘

    # Goal ê´€ë ¨
    GoalCommonInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 1
        title:
          type: string
          description: ëª©í‘œ ì œëª©
          example: "ë‹¤ì˜¨ê³¼ í•¨ê»˜í•˜ëŠ” ì˜ì–´ ì™„ì „ ì •ë³µ 30ì¼ ëª©í‘œ"
        topic:
          type: string
          description: ëª©í‘œ ì£¼ì œ
          example: "ì˜ì–´"
        description:
          type: string
          description: ëª©í‘œì— ëŒ€í•œ ì„¤ëª…
          example: "ì˜ì–´ë¥¼ í•˜ê³  ì‹¶ì—ˆì§€ë§Œ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ í•´ì•¼ í•  ì§€, ë£¨í‹´ì„ ì„¸ìš°ì§€ë§Œ ì–´ë–¤ ë°©ë²•ì´ íš¨ìœ¨ì ì¼ì§€ ê³ ë¯¼ì´ ë§ì§€ ì•Šì•˜ë‚˜ìš”?"
        period:
          type: integer
          example: 30
        daily_duration:
          type: integer
          example: 4
        participants_limit:
          type: integer
          example: 10
        current_participants:
          type: integer
          example: 5
        is_closing_soon:
          type: boolean
          example: true
        goal_status:
          $ref: '#/components/schemas/GoalStatusEnum'
        mentor_name:
          type: string
          description: ë©˜í†  ì´ë¦„
          example: "ë‹¤ì˜¨"
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    GoalStatusEnum:
      type: string
      enum:
        - UPCOMING
        - OPEN
        - CLOSED
      example:
        OPEN

    # GoalSummary
    GoalSummaryResponse:
      type: object
      allOf:
        - $ref: '#/components/schemas/GoalCommonInfo'
        - type: object
          properties:

            main_image:
              type: string
              example: "https://main-image.url"
    GoalSummaryPagingResponse:
      type: object
      properties:
        goals:
          type: array
          items:
            $ref: '#/components/schemas/GoalSummaryResponse'
        page:
          $ref: '#/components/schemas/PageResponse'

    # GoalDetail
    GoalDetailResponse:
      type: object
      allOf:
        - $ref: '#/components/schemas/GoalCommonInfo'
        - type: object
          properties:
            weekly_objectives:
              type: array
              items:
                $ref: '#/components/schemas/WeeklyObjectiveResponse'
            mid_objectives:
              type: array
              items:
                $ref: '#/components/schemas/MidObjectiveResponse'
            thumbnail_images:
              type: array
              items:
                $ref: '#/components/schemas/ImageResponse'
            content_images:
              type: array
              items:
                $ref: '#/components/schemas/ImageResponse'
    WeeklyObjectiveResponse:
      type: object
      properties:
        week_number:
          type: integer
          description: í˜„ì¬ ì£¼ì°¨
          example: 1
        description:
          type: string
          description: ëª©í‘œ ì£¼ì°¨ë³„ ìƒì„¸ ì„¤ëª…
          example: "ê°„ë‹¨í•œ ë‹¨ì–´ë¶€í„° ì‹œì‘í•˜ê¸°"
    MidObjectiveResponse:
      type: object
      properties:
        sequence:
          type: integer
          description: í˜„ì¬ ì£¼ì°¨
          example: 1
        description:
          type: string
          description: ì¤‘ê°„ ëª©í‘œ ì„¤ëª…
          example: "ì˜ì–´ë¡œ ì›ì–´ë¯¼ê³¼ í¸ì•ˆí•˜ê²Œ ëŒ€í™”í•˜ëŠ” ë²•"
    ImageResponse:
      type: object
      properties:
        sequence:
          type: integer
          example: 1
        imageUrl:
          type: string
          example: "https://image.url"

    # MenteeGoal ê´€ë ¨
    MenteeGoalSummaryResponse:
      type: object
      allOf:
        - type: object
          properties:
            id:
              type: integer
              format: int64
              example: 1
            title:
              type: string
              description: ëª©í‘œ ì œëª©
              example: "ë‹¤ì˜¨ê³¼ í•¨ê»˜í•˜ëŠ” ì˜ì–´ ì™„ì „ ì •ë³µ 30ì¼ ëª©í‘œ"
            topic:
              type: string
              description: ëª©í‘œ ì£¼ì œ
              example: "ì˜ì–´"
            mentor_name:
              type: string
              description: ë©˜í†  ì´ë¦„
              example: "ë‹¤ì˜¨"
            main_image:
              type: string
              example: "https://main-image.url"
            start_date:
              type: string
              format: date
            end_date:
              type: string
              format: date
            final_comment:
              type: string
            today_todo_count:
              type: integer
              example: 5
            today_completed_count:
              type: integer
              example: 3
            today_remaining_count:
              type: integer
              example: 2
            total_todo_count:
              type: integer
              example: 100
            total_completed_count:
              type: integer
              example: 50
            mentee_goal_status:
              $ref: '#/components/schemas/MenteeGoalStatusEnum'
            created_at:
              type: string
              format: date-time
            updated_at:
              type: string
              format: date-time
    MenteeGoalDailyProgressResponse:
      type: object
      properties:
        daily_todo_count:
          type: integer
          example: 5
        completed_daily_todo_count:
          type: integer
          example: 3
        date:
          type: string
          format: date
        day_of_week:
          type: string
          example: MON
        is_valid:
          type: boolean
          example: true

    MenteeGoalStatusEnum:
      type: string
      enum:
        - IN_PROGRESS
        - COMPLETED
        - FAILED
        - CANCELED
    MenteeGoalSummaryPagingResponse:
      type: object
      properties:
        mentee_goals:
          type: array
          items:
            $ref: '#/components/schemas/MenteeGoalSummaryResponse'
        page:
          $ref: '#/components/schemas/PageResponse'

    MenteeGoalDailyDetailResponse:
      type: object
      properties:
        date:
          type: string
          format: date
        mentee_goal:
          $ref: '#/components/schemas/MenteeGoalSummaryResponse'
        todos:
          type: array
          items:
            $ref: '#/components/schemas/MenteeGoalTodoResponse'
    MenteeGoalTodoResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
        todo_date:
          type: string
          format: date
          description: íˆ¬ë‘ ì§„í–‰ ë‚ ì§œ
        estimated_minutes:
          type: integer
          description: ì˜ˆìƒ ì†Œìš” ì‹œê°„
          example: 50
        description:
          type: string
          description: íˆ¬ë‘ ì„¤ëª…
          example: "ì˜ì–´ ë‹¨ì–´ ë³´ì¹´ 30ê°œ ì•”ê¸°"
        mentor_tip:
          type: string
          description: ë©˜í†  íŒ
          example: "ì˜ˆë¬¸ì„ ë°˜ë“œì‹œ 5íšŒ ì´ìƒ ì½ì–´ë³´ì„¸ìš”!"
        todo_status:
          type: string
          example: "TODO"
    RemainingTodosResponse:
      type: object
      properties:
        hasRemainingTodosToday:
          type: boolean

    CommentResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
        comment:
          type: string
        commented_at:
          type: string
          format: date-time
        writer:
          type: string
        writer_role:
          type: string
    CommentPagingResponse:
      type: object
      properties:
        comments:
          type: array
          items:
            $ref: '#/components/schemas/CommentResponse'
        page:
          $ref: '#/components/schemas/PageResponse'

    CommentRoomPagingResponse:
      type: object
      properties:
        comment_rooms:
          type: array
          items:
            $ref: '#/components/schemas/CommentRoomResponse'
        page:
          $ref: '#/components/schemas/PageResponse'
    CommentRoomResponse:
      type: object
      properties:
        mentee_goal_id:
          type: integer
          format: int64
        mentee_goal_title:
          type: string
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        mentor_name:
          type: string
        new_comments_count:
          type: integer
          format: int64

    # Paging
    PageResponse:
      type: object
      properties:
        totalElements:
          type: integer
          description: ì „ì²´ ì•„ì´í…œ ê°œìˆ˜
          example: 123
        totalPages:
          type: integer
          description: ì „ì²´ í˜ì´ì§€ ìˆ˜
          example: 13
        currentPage:
          type: integer
          description: í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸
          example: 2
        pageSize:
          type: integer
          description: í•œ í˜ì´ì§€ë‹¹ ì•„ì´í…œ ìˆ˜
          example: 10
        nextPage:
          type: integer
          description: ë‹¤ìŒ í˜ì´ì§€ ë²ˆí˜¸ (ë‹¤ìŒ í˜ì´ì§€ê°€ ì—†ìœ¼ë©´ null)
          example: 3
        prevPage:
          type: integer
          description: ì´ì „ í˜ì´ì§€ ë²ˆí˜¸ (ì´ì „ í˜ì´ì§€ê°€ ì—†ìœ¼ë©´ null)
          example: 1
        hasNext:
          type: boolean
          description: ë‹¤ìŒ í˜ì´ì§€ ì¡´ì¬ ì—¬ë¶€
          example: true
        hasPrev:
          type: boolean
          description: ì´ì „ í˜ì´ì§€ ì¡´ì¬ ì—¬ë¶€
          example: true
      required:
        - totalElements
        - totalPages
        - currentPage
        - pageSize
        - nextPage
        - prevPage
        - hasNext
        - hasPrev

    # ê³µí†µì‘ë‹µ. Data í•„ë“œë¥¼ ì œì™¸í•œ ë¶€ë¶„ì´ë©°, Data í•„ë“œì— ë“¤ì–´ê°ˆ ì •ë³´ëŠ” Response componentì— ì •ì˜
    ApiResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - SUCCESS
            - ERROR
        code:
          type: string
          example: 200
        message:
          type: string
          example: ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.
      required:
        - status
        - code
        - message

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
